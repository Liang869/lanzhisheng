!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.VueResource=b()}(this,function(){"use strict";function a(a){this.state=Q,this.value=void 0,this.deferred=[];var b=this;try{a(function(a){b.resolve(a)},function(a){b.reject(a)})}catch(a){b.reject(a)}}function b(a,b){a instanceof Promise?this.promise=a:this.promise=new Promise(a.bind(b)),this.context=b}function c(a){"undefined"!=typeof console&&W&&console.warn("[VueResource warn]: "+a)}function d(a){"undefined"!=typeof console&&console.error(a)}function e(a,b){return T(a,b)}function f(a){return a?a.replace(/^\s*|\s*$/g,""):""}function g(a,b){return a&&void 0===b?a.replace(/\s+$/,""):a&&b?a.replace(new RegExp("["+b+"]+$"),""):a}function h(a){return a?a.toLowerCase():""}function i(a){return a?a.toUpperCase():""}function j(a){return"string"==typeof a}function k(a){return"function"==typeof a}function l(a){return null!==a&&"object"==typeof a}function m(a){return l(a)&&Object.getPrototypeOf(a)==Object.prototype}function n(a){return"undefined"!=typeof Blob&&a instanceof Blob}function o(a){return"undefined"!=typeof FormData&&a instanceof FormData}function p(a,c,d){var e=b.resolve(a);return arguments.length<2?e:e.then(c,d)}function q(a,b,c){return c=c||{},k(c)&&(c=c.call(b)),s(a.bind({$vm:b,$options:c}),a,{$options:c})}function r(a,b){var c,d;if(Z(a))for(c=0;c<a.length;c++)b.call(a[c],a[c],c);else if(l(a))for(d in a)U.call(a,d)&&b.call(a[d],a[d],d);return a}function s(a){return V.call(arguments,1).forEach(function(b){v(a,b,!0)}),a}function t(a){return V.call(arguments,1).forEach(function(b){for(var c in b)void 0===a[c]&&(a[c]=b[c])}),a}function u(a){return V.call(arguments,1).forEach(function(b){v(a,b)}),a}function v(a,b,c){for(var d in b)c&&(m(b[d])||Z(b[d]))?(m(b[d])&&!m(a[d])&&(a[d]={}),Z(b[d])&&!Z(a[d])&&(a[d]=[]),v(a[d],b[d],c)):void 0!==b[d]&&(a[d]=b[d])}function w(a,b,c){var d=x(a),e=d.expand(b);return c&&c.push.apply(c,d.vars),e}function x(a){var b=["+","#",".","/",";","?","&"],c=[];return{vars:c,expand:function(d){return a.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(a,e,f){if(e){var g=null,h=[];if(-1!==b.indexOf(e.charAt(0))&&(g=e.charAt(0),e=e.substr(1)),e.split(/,/g).forEach(function(a){var b=/([^:\*]*)(?::(\d+)|(\*))?/.exec(a);h.push.apply(h,y(d,g,b[1],b[2]||b[3])),c.push(b[1])}),g&&"+"!==g){var i=",";return"?"===g?i="&":"#"!==g&&(i=g),(0!==h.length?g:"")+h.join(i)}return h.join(",")}return C(f)})}}}function y(a,b,c,d){var e=a[c],f=[];if(z(e)&&""!==e)if("string"==typeof e||"number"==typeof e||"boolean"==typeof e)e=e.toString(),d&&"*"!==d&&(e=e.substring(0,parseInt(d,10))),f.push(B(b,e,A(b)?c:null));else if("*"===d)Array.isArray(e)?e.filter(z).forEach(function(a){f.push(B(b,a,A(b)?c:null))}):Object.keys(e).forEach(function(a){z(e[a])&&f.push(B(b,e[a],a))});else{var g=[];Array.isArray(e)?e.filter(z).forEach(function(a){g.push(B(b,a))}):Object.keys(e).forEach(function(a){z(e[a])&&(g.push(encodeURIComponent(a)),g.push(B(b,e[a].toString())))}),A(b)?f.push(encodeURIComponent(c)+"="+g.join(",")):0!==g.length&&f.push(g.join(","))}else";"===b?f.push(encodeURIComponent(c)):""!==e||"&"!==b&&"?"!==b?""===e&&f.push(""):f.push(encodeURIComponent(c)+"=");return f}function z(a){return void 0!==a&&null!==a}function A(a){return";"===a||"&"===a||"?"===a}function B(a,b,c){return b="+"===a||"#"===a?C(b):encodeURIComponent(b),c?encodeURIComponent(c)+"="+b:b}function C(a){return a.split(/(%[0-9A-Fa-f]{2})/g).map(function(a){return/%[0-9A-Fa-f]/.test(a)||(a=encodeURI(a)),a}).join("")}function D(a,b){var c,d=this||{},e=a;return j(a)&&(e={url:a,params:b}),e=s({},D.options,d.$options,e),D.transforms.forEach(function(a){j(a)&&(a=D.transform[a]),k(a)&&(c=E(a,c,d.$vm))}),c(e)}function E(a,b,c){return function(d){return a.call(c,d,b)}}function F(a,b,c){var d,e=Z(b),f=m(b);r(b,function(b,g){d=l(b)||Z(b),c&&(g=c+"["+(f||d?g:"")+"]"),!c&&e?a.add(b.name,b.value):d?F(a,b,g):a.add(g,b)})}function G(a){var b=a.match(/^\[|^\{(?!\{)/),c={"[":/]$/,"{":/}$/};return b&&c[b[0]].test(a)}function H(a,b){b((a.client||(X?ma:na))(a))}function I(a,b){return Object.keys(a).reduce(function(a,c){return h(b)===h(c)?c:a},null)}function J(a){if(/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(a))throw new TypeError("Invalid character in header field name");return f(a)}function K(a){return new b(function(b){var c=new FileReader;c.readAsText(a),c.onload=function(){b(c.result)}})}function L(a){return 0===a.type.indexOf("text")||-1!==a.type.indexOf("json")}function M(a){var c=this||{},e=oa(c.$vm);return t(a||{},c.$options,M.options),M.interceptors.forEach(function(a){j(a)&&(a=M.interceptor[a]),k(a)&&e.use(a)}),e(new ra(a)).then(function(a){return a.ok?a:b.reject(a)},function(a){return a instanceof Error&&d(a),b.reject(a)})}function N(a,b,c,d){var e=this||{},f={};return c=$({},N.actions,c),r(c,function(c,g){c=s({url:a,params:$({},b)},d,c),f[g]=function(){return(e.$http||M)(O(c,arguments))}}),f}function O(a,b){var c,d=$({},a),e={};switch(b.length){case 2:e=b[0],c=b[1];break;case 1:/^(POST|PUT|PATCH)$/i.test(d.method)?c=b[0]:e=b[0];break;case 0:break;default:throw"Expected up to 2 arguments [params, body], got "+b.length+" arguments"}return d.body=c,d.params=$({},d.params,e),d}function P(a){P.installed||(Y(a),a.url=D,a.http=M,a.resource=N,a.Promise=b,Object.defineProperties(a.prototype,{$url:{get:function(){return q(a.url,this,this.$options.url)}},$http:{get:function(){return q(a.http,this,this.$options.http)}},$resource:{get:function(){return a.resource.bind(this)}},$promise:{get:function(){var b=this;return function(c){return new a.Promise(c,b)}}}}))}var Q=2;a.reject=function(b){return new a(function(a,c){c(b)})},a.resolve=function(b){return new a(function(a,c){a(b)})},a.all=function(b){return new a(function(c,d){var e=0,f=[];0===b.length&&c(f);for(var g=0;g<b.length;g+=1)a.resolve(b[g]).then(function(a){return function(d){f[a]=d,(e+=1)===b.length&&c(f)}}(g),d)})},a.race=function(b){return new a(function(c,d){for(var e=0;e<b.length;e+=1)a.resolve(b[e]).then(c,d)})};var R=a.prototype;R.resolve=function(a){var b=this;if(b.state===Q){if(a===b)throw new TypeError("Promise settled with itself.");var c=!1;try{var d=a&&a.then;if(null!==a&&"object"==typeof a&&"function"==typeof d)return void d.call(a,function(a){c||b.resolve(a),c=!0},function(a){c||b.reject(a),c=!0})}catch(a){return void(c||b.reject(a))}b.state=0,b.value=a,b.notify()}},R.reject=function(a){var b=this;if(b.state===Q){if(a===b)throw new TypeError("Promise settled with itself.");b.state=1,b.value=a,b.notify()}},R.notify=function(){e(function(){if(f.state!==Q)for(;f.deferred.length;){var a=f.deferred.shift(),b=a[0],c=a[1],d=a[2],e=a[3];try{0===f.state?d("function"==typeof b?b.call(void 0,f.value):f.value):1===f.state&&("function"==typeof c?d(c.call(void 0,f.value)):e(f.value))}catch(f){e(f)}}})},R.then=function(b,c){var d=this;return new a(function(a,e){d.deferred.push([b,c,a,e]),d.notify()})},R["catch"]=function(a){return this.then(void 0,a)},"undefined"==typeof Promise&&(window.Promise=a),b.all=function(a,c){return new b(Promise.all(a),c)},b.resolve=function(a,c){return new b(Promise.resolve(a),c)},b.reject=function(a,c){return new b(Promise.reject(a),c)},b.race=function(a,c){return new b(Promise.race(a),c)};var S=b.prototype;S.bind=function(a){return this.context=a,this},S.then=function(a,c){return a&&a.bind&&this.context&&(a=a.bind(this.context)),c&&c.bind&&this.context&&(c=c.bind(this.context)),new b(this.promise.then(a,c),this.context)},S["catch"]=function(a){return a&&a.bind&&this.context&&(a=a.bind(this.context)),new b(this.promise["catch"](a),this.context)},S["finally"]=function(a){return this.then(function(b){return a.call(this),b},function(b){return a.call(this),Promise.reject(b)})};var T,U={}.hasOwnProperty,V=[].slice,W=!1,X="undefined"!=typeof window,Y=function(a){var b=a.config,c=a.nextTick;T=c,W=b.debug||!b.silent},Z=Array.isArray,$=Object.assign||u,_=function(a,b){var c=b(a);return j(a.root)&&!/^(https?:)?\//.test(c)&&(c=g(a.root,"/")+"/"+c),c},aa=function(a,b){var c=Object.keys(D.options.params),d={},e=b(a);return r(a.params,function(a,b){-1===c.indexOf(b)&&(d[b]=a)}),(d=D.params(d))&&(e+=(-1==e.indexOf("?")?"?":"&")+d),e},ba=function(a){var b=[],c=w(a.url,a.params,b);return b.forEach(function(b){delete a.params[b]}),c};D.options={url:"",root:null,params:{}},D.transform={template:ba,query:aa,root:_},D.transforms=["template","query","root"],D.params=function(a){var b=[],c=encodeURIComponent;return b.add=function(a,b){k(b)&&(b=b()),null===b&&(b=""),this.push(c(a)+"="+c(b))},F(b,a),b.join("&").replace(/%20/g,"+")},D.parse=function(a){var b=document.createElement("a");return document.documentMode&&(b.href=a,a=b.href),b.href=a,{href:b.href,protocol:b.protocol?b.protocol.replace(/:$/,""):"",port:b.port,host:b.host,hostname:b.hostname,pathname:"/"===b.pathname.charAt(0)?b.pathname:"/"+b.pathname,search:b.search?b.search.replace(/^\?/,""):"",hash:b.hash?b.hash.replace(/^#/,""):""}};var ca=function(a){return new b(function(b){var c=new XDomainRequest,d=function(d){var e=d.type,f=0;"load"===e?f=200:"error"===e&&(f=500),b(a.respondWith(c.responseText,{status:f}))};a.abort=function(){return c.abort()},c.open(a.method,a.getUrl()),a.timeout&&(c.timeout=a.timeout),c.onload=d,c.onabort=d,c.onerror=d,c.ontimeout=d,c.onprogress=function(){},c.send(a.getBody())})},da=X&&"withCredentials"in new XMLHttpRequest,ea=function(a,b){if(X){var c=D.parse(location.href),d=D.parse(a.getUrl());d.protocol===c.protocol&&d.host===c.host||(a.crossOrigin=!0,a.emulateHTTP=!1,da||(a.client=ca))}b()},fa=function(a,b){o(a.body)?a.headers["delete"]("Content-Type"):l(a.body)&&a.emulateJSON&&(a.body=D.params(a.body),a.headers.set("Content-Type","application/x-www-form-urlencoded")),b()},ga=function(a,b){var c=a.headers.get("Content-Type")||"";l(a.body)&&0===c.indexOf("application/json")&&(a.body=JSON.stringify(a.body)),b(function(a){return a.bodyText?p(a.text(),function(b){if(0===(c=a.headers.get("Content-Type")||"").indexOf("application/json")||G(b))try{a.body=JSON.parse(b)}catch(b){a.body=null}else a.body=b;return a}):a})},ha=function(a){return new b(function(b){var c,d,e=a.jsonp||"callback",f=a.jsonpCallback||"_jsonp"+Math.random().toString(36).substr(2),g=null;c=function(c){var e=c.type,h=0;"load"===e&&null!==g?h=200:"error"===e&&(h=500),h&&window[f]&&(delete window[f],document.body.removeChild(d)),b(a.respondWith(g,{status:h}))},window[f]=function(a){g=JSON.stringify(a)},a.abort=function(){c({type:"abort"})},a.params[e]=f,a.timeout&&setTimeout(a.abort,a.timeout),(d=document.createElement("script")).src=a.getUrl(),d.type="text/javascript",d.async=!0,d.onload=c,d.onerror=c,document.body.appendChild(d)})},ia=function(a,b){"JSONP"==a.method&&(a.client=ha),b()},ja=function(a,b){k(a.before)&&a.before.call(this,a),b()},ka=function(a,b){a.emulateHTTP&&/^(PUT|PATCH|DELETE)$/i.test(a.method)&&(a.headers.set("X-HTTP-Method-Override",a.method),a.method="POST"),b()},la=function(a,b){r($({},M.headers.common,a.crossOrigin?{}:M.headers.custom,M.headers[h(a.method)]),function(b,c){a.headers.has(c)||a.headers.set(c,b)}),b()},ma=function(a){return new b(function(b){var c=new XMLHttpRequest,d=function(d){var e=a.respondWith("response"in c?c.response:c.responseText,{status:1223===c.status?204:c.status,statusText:1223===c.status?"No Content":f(c.statusText)});r(f(c.getAllResponseHeaders()).split("\n"),function(a){e.headers.append(a.slice(0,a.indexOf(":")),a.slice(a.indexOf(":")+1))}),b(e)};a.abort=function(){return c.abort()},a.progress&&("GET"===a.method?c.addEventListener("progress",a.progress):/^(POST|PUT)$/i.test(a.method)&&c.upload.addEventListener("progress",a.progress)),c.open(a.method,a.getUrl(),!0),a.timeout&&(c.timeout=a.timeout),a.responseType&&"responseType"in c&&(c.responseType=a.responseType),(a.withCredentials||a.credentials)&&(c.withCredentials=!0),a.crossOrigin||a.headers.set("X-Requested-With","XMLHttpRequest"),a.headers.forEach(function(a,b){c.setRequestHeader(b,a)}),c.onload=d,c.onabort=d,c.onerror=d,c.ontimeout=d,c.send(a.getBody())})},na=function(a){var c=require("got");return new b(function(b){var d,e=a.getUrl(),g=a.getBody(),h=a.method,i={};a.headers.forEach(function(a,b){i[b]=a}),c(e,{body:g,method:h,headers:i}).then(d=function(c){var d=a.respondWith(c.body,{status:c.statusCode,statusText:f(c.statusMessage)});r(c.headers,function(a,b){d.headers.set(b,a)}),b(d)},function(a){return d(a.response)})})},oa=function(a){function d(d){return new b(function(b,h){function i(){k(e=f.pop())?e.call(a,d,j):(c("Invalid interceptor of type "+typeof e+", must be a function"),j())}function j(c){if(k(c))g.unshift(c);else if(l(c))return g.forEach(function(b){c=p(c,function(c){return b.call(a,c)||c},h)}),void p(c,b,h);i()}i()},a)}var e,f=[H],g=[];return l(a)||(a=null),d.use=function(a){f.push(a)},d},pa=function(a){var b=this;this.map={},r(a,function(a,c){return b.append(c,a)})};pa.prototype.has=function(a){return null!==I(this.map,a)},pa.prototype.get=function(a){var b=this.map[I(this.map,a)];return b?b.join():null},pa.prototype.getAll=function(a){return this.map[I(this.map,a)]||[]},pa.prototype.set=function(a,b){this.map[J(I(this.map,a)||a)]=[f(b)]},pa.prototype.append=function(a,b){var c=this.map[I(this.map,a)];c?c.push(f(b)):this.set(a,b)},pa.prototype["delete"]=function(a){delete this.map[I(this.map,a)]},pa.prototype.deleteAll=function(){this.map={}},pa.prototype.forEach=function(a,b){var c=this;r(this.map,function(d,e){r(d,function(d){return a.call(b,d,e,c)})})};var qa=function(a,b){var c=b.url,d=b.headers,e=b.status,f=b.statusText;this.url=c,this.ok=e>=200&&e<300,this.status=e||0,this.statusText=f||"",this.headers=new pa(d),this.body=a,j(a)?this.bodyText=a:n(a)&&(this.bodyBlob=a,L(a)&&(this.bodyText=K(a)))};qa.prototype.blob=function(){return p(this.bodyBlob)},qa.prototype.text=function(){return p(this.bodyText)},qa.prototype.json=function(){return p(this.text(),function(a){return JSON.parse(a)})},Object.defineProperty(qa.prototype,"data",{get:function(){return this.body},set:function(a){this.body=a}});var ra=function(a){this.body=null,this.params={},$(this,a,{method:i(a.method||"GET")}),this.headers instanceof pa||(this.headers=new pa(this.headers))};ra.prototype.getUrl=function(){return D(this)},ra.prototype.getBody=function(){return this.body},ra.prototype.respondWith=function(a,b){return new qa(a,$(b||{},{url:this.getUrl()}))};var sa={Accept:"application/json, text/plain, */*"},ta={"Content-Type":"application/json;charset=utf-8"};return M.options={},M.headers={put:ta,post:ta,patch:ta,"delete":ta,common:sa,custom:{}},M.interceptor={before:ja,method:ka,jsonp:ia,json:ga,form:fa,header:la,cors:ea},M.interceptors=["before","method","jsonp","json","form","header","cors"],["get","delete","head","jsonp"].forEach(function(a){M[a]=function(b,c){return this($(c||{},{url:b,method:a}))}}),["post","put","patch"].forEach(function(a){M[a]=function(b,c,d){return this($(d||{},{url:b,method:a,body:c}))}}),N.actions={get:{method:"GET"},save:{method:"POST"},query:{method:"GET"},update:{method:"PUT"},remove:{method:"DELETE"},"delete":{method:"DELETE"}},"undefined"!=typeof window&&window.Vue&&window.Vue.use(P),P});